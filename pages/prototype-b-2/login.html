<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>삼성화재 | 사이버보험 모바일 웹</title>
        <link rel="stylesheet" href="../../resources/css/default.css" />
    </head>
    <body id="type-a">
        <form id="login-form" class="h-screen login-wrap inner">
            <div class="login-header pos-relative fade-in">
                <button type="button" class="pos-absolute pos-left-0 pos-top-0">
                    <img src="../../assets/images/icon/icon_arrow_left_tail.svg" alt="" />
                </button>
                <h1>
                    <img src="../../assets/images/logo/logo_text_pri_ko.svg" alt="삼성화재 사이버 보험" />
                </h1>
            </div>
            <div class="login-container fade-in">
                <img src="../../assets/images/tab_a.svg" alt="" />
                <div>
                    <div class="form-input">
                        <input name="id" type="text" placeholder="아이디 또는 이메일" />
                    </div>
                    <div class="form-input">
                        <input name="password" type="password" placeholder="패스워드" />
                    </div>
                </div>
                <ul class="login-links fade-in">
                    <li><a href="#">비밀번호 찾기</a></li>
                    <li><a href="#">아이디 찾기</a></li>
                    <li><a href="#" class="txt-pri weight-700">회원가입</a></li>
                </ul>
            </div>
            <button type="submit" class="btn btn-pri w-100 flex-item-bottom fade-in fade-in-animate">로그인</button>
        </form>
        <div class="cert-loading">
            <div class="loader-bar">
                <svg viewBox="0 0 100 100" width="48" height="48">
                    <g class="spinner">
                        <circle cx="50" cy="10" r="8" fill="#9BE7FF"></circle>
                        <circle cx="78" cy="18" r="8" fill="#5FD3FF"></circle>
                        <circle cx="90" cy="50" r="8" fill="#2CB7FF"></circle>
                        <circle cx="78" cy="82" r="8" fill="#1A8CFF"></circle>
                        <circle cx="50" cy="90" r="8" fill="#0F6CFF"></circle>
                        <circle cx="22" cy="82" r="8" fill="#2CB7FF"></circle>
                        <circle cx="10" cy="50" r="8" fill="#5FD3FF"></circle>
                        <circle cx="22" cy="18" r="8" fill="#9BE7FF"></circle>
                    </g>
                </svg>
            </div>
        </div>
        <div class="h-screen loading-wrap fixed">
            <div class="loading-cont fade-in">
                <p class="loading-tit">
                    사이버 보험으로<br />

                    <strong class="txt-pri">고객의 자산을 안전</strong>하게!
                </p>
                <img src="../../assets/images/icon/icon_loading_security.png" alt="" width="180" />
                <div class="loading-progress-wrap">
                    <progress class="progress" value="0" max="100" id="loading-progress"></progress>
                </div>
            </div>
            <div class="flex-item-bottom">
                <img src="../../assets/images/logo/logo_text_pri_en.svg" alt="삼성화재 사이버보험 영문" width="92" height="32" />
            </div>
        </div>

        <div id="intro-animation" class="fixed">
            <div class="h-screen intro-wrap fade-in">
                <img class="intro-img" src="../../assets/images/intro-b-2.png" alt="" />
            </div>
        </div>
        <script src="../../resources/js/jquery-3.7.1.min.js"></script>
        <script src="../../resources/js/swiper-bundle.min.js"></script>
        <script src="../../resources/js/gsap.min.js"></script>
        <script src="../../resources/js/ScrollSmoother.js"></script>
        <script src="../../resources/js/ScrollTrigger.js"></script>
        <script src="../../resources/js/common.js"></script>
        <script>
            function showLoading() {
                $('body').css('overflow', 'hidden');
                $('.loader-wrap').show();
            }

            $('.cert-loading').css('display', 'none');

            $('#login-form').hide();

            $('#intro-animation').fadeIn(500);
            setTimeout(() => {
                typeWriter();
            }, 20);

            setTimeout(function () {
                $('#intro-animation').fadeOut(500, function () {
                    $(this).remove();
                });

                $('#intro-animation').fadeOut(500, function () {
                    $(this).remove();
                });

                $('#login-form').fadeIn(300);
            }, 4000);

            var i = 0;
            var txt = '사이버 위협을 대비하는 \n 가장 완벽한 방법';
            var speed = 100;
            var delay = 1000;

            function typeWriter() {
                if (i < txt.length) {
                    const char = txt.charAt(i);

                    document.getElementById('intro-desc').innerHTML += char === '\n' ? '<br>' : char;

                    i++;
                    setTimeout(typeWriter, speed);
                }
            }

            const testId = 'test';
            const testPassword = 'test';

            const loginForm = document.querySelector('#login-form');

            loginForm.addEventListener('submit', (event) => {
                event.preventDefault();

                const idInput = event.target['id'];
                const pwInput = event.target['password'];

                if (idInput.value === testId && pwInput.value === testPassword) {
                    $('.cert-loading').css({
                        display: 'flex',
                        position: 'fixed',
                        inset: 0,
                        zIndex: 1000000,
                        background: 'rgba(255,255,255,0.5)',
                    });

                    setTimeout(() => {
                        window.location.href = './main.html';
                    }, 1500);
                }

                if (idInput.value !== testId || pwInput.value !== testPassword) {
                    alert('아이디 혹은 비밀번호가 잘못되었습니다.');
                    idInput.focus();
                }
            });
        </script>
    </body>
</html>
