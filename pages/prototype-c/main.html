<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>삼성화재 | 사이버보험 모바일 웹</title>
        <link rel="stylesheet" href="../../resources/css/default.css" />
        <link rel="stylesheet" href="../../resources/css/swiper-bundle.min.css" />
    </head>
    <body id="type-a">
        <div id="wrap">
            <header id="header">
                <div class="inner">
                    <h1>
                        <a href="./main.html"><img src="../../assets/images/logo/logo.svg" alt="삼성화재 사이버보험" /></a>
                    </h1>
                    <div class="d-flex items-center header-right">
                        <button type="button" onclick="window.location.href='../sub/search-1.html'">
                            <img src="../../assets/images/icon/icon_find_bk.svg" alt="" />
                        </button>
                        <a href="../gate/gate-main.html">
                            <img src="../../assets/images/icon/ico_menu.svg" alt="" />
                        </a>
                    </div>
                </div>
            </header>
            <main id="container">
                <!-- Main Hero -->
                <section class="main-hero">
                    <div class="swiper-container hero-banner-list">
                        <div class="swiper">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <div class="hero-banner">
                                        <div class="hero-banner-inner">
                                            <div class="hero-banner-txt">
                                                <p class="hero-banner-desc">내 보험 괜찮은 걸까?</p>
                                                <strong class="hero-banner-tit">AI 보장분석 이벤트</strong>
                                            </div>
                                            <img src="../../assets/images/icon/icon_banner_01.png" alt="" />
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="hero-banner">
                                        <div class="hero-banner-inner">
                                            <div class="hero-banner-txt">
                                                <p class="hero-banner-desc">내 보험 괜찮은 걸까?2</p>
                                                <strong class="hero-banner-tit">AI 보장분석 이벤트</strong>
                                            </div>
                                            <img src="../../assets/images/icon/icon_banner_01.png" alt="" />
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="hero-banner">
                                        <div class="hero-banner-inner">
                                            <div class="hero-banner-txt">
                                                <p class="hero-banner-desc">내 보험 괜찮은 걸까?3</p>
                                                <strong class="hero-banner-tit">AI 보장분석 이벤트</strong>
                                            </div>
                                            <img src="../../assets/images/icon/icon_banner_01.png" alt="" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="swiper-indicator">
                            <div class="swiper-pagination"></div>
                        </div>
                    </div>
                </section>
                <!-- Company Summary -->
                <div class="company-summary">
                    <div class="inner">
                        <img class="w-100" src="../../assets/images/company_summary.svg" alt="" />
                    </div>
                </div>
                <!-- Main Risk Overview -->
                <section class="main-risk-overview">
                    <div class="inner">
                        <div class="d-flex justify-between items-center mt-20">
                            <div class="circle-wrap">
                                <div class="circle-container-sm" id="circle-container" style="position: relative"></div>
                            </div>
                            <div class="risk-overview-txt">
                                <p class="fs-18 weight-500">기업 위험 점수</p>
                                <strong class="txt-pri counter" data-target="80"></strong>
                                <small class="txt-txt-thr">(동종업계 평균: 49)</small>
                            </div>
                        </div>
                        <div class="card card-bg-gray mt-20 fade-in">
                            <div class="risk-status">
                                <p class="risk-status-year-percent">12개월 내 사고 발생활률: <strong class="weight-500">2.49%</strong></p>
                                <p class="risk-status-same-average">
                                    동종업계 평균 대비 <strong class="txt-pri weight-700">&nbsp;1.66배&nbsp;</strong> 높음
                                    <svg class="floating" xmlns="http://www.w3.org/2000/svg" width="14" height="18" viewBox="0 0 14 18" fill="none">
                                        <rect x="5" y="8" width="4" height="10" rx="2" fill="#2C67F6" />
                                        <path d="M6.13397 1.5C6.51887 0.833333 7.48113 0.833333 7.86603 1.5L12.1962 9C12.5811 9.66667 12.0999 10.5 11.3301 10.5H2.66987C1.90007 10.5 1.41895 9.66667 1.80385 9L6.13397 1.5Z" fill="#2C67F6" />
                                    </svg>
                                </p>
                                <button class="btn btn-outline btn-dark btn-fixed" type="button" onclick="window.location.href='../sub/risk-indicator.html'">위험지표 확인</button>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Main Status -->
                <section class="main-status mt-30">
                    <img class="w-100 inner" src="../../assets/images/tab_main_a.svg" alt="" />
                    <div class="d-flex mt-30 inner">
                        <img class="flex-item-right" src="../../assets/images/radio_main_a.svg" alt="" />
                    </div>
                    <div class="main-status-sections mt-10">
                        <div class="main-status-section fade-in">
                            <h3>금전 절도 및 사기</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line2" data-target="0.75"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line1" data-target="0.5"></div>
                                </div>
                                <div class="status-handler-wrap" id="line1-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line2-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                            <div class="status-range">
                                <span class="status-start">0</span>
                                <span class="status-end">100</span>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>사이버갈취</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line3" data-target="0.85"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line4" data-target="0.45"></div>
                                </div>
                                <div class="status-handler-wrap" id="line3-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line4-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                            <div class="status-range">
                                <span class="status-start">0</span>
                                <span class="status-end">100</span>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>데이터 손실</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line5" data-target="0.95"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line6" data-target="0.35"></div>
                                </div>
                                <div class="status-handler-wrap" id="line5-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line6-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                            <div class="status-range">
                                <span class="status-start">0</span>
                                <span class="status-end">100</span>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>업무 차질</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line7" data-target="0.95"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line8" data-target="0.35"></div>
                                </div>
                                <div class="status-handler-wrap" id="line7-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line8-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>사고 대응</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line9" data-target="0.95"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line10" data-target="0.35"></div>
                                </div>
                                <div class="status-handler-wrap" id="line9-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line10-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>규제 및 방어</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line11" data-target="0.95"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line12" data-target="0.35"></div>
                                </div>
                                <div class="status-handler-wrap" id="line11-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line12-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>개인정보의 침해</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line13" data-target="0.95"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line14" data-target="0.35"></div>
                                </div>
                                <div class="status-handler-wrap" id="line13-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line14-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                        </div>
                        <div class="main-status-section fade-in">
                            <h3>제3자 배상책임</h3>
                            <div class="status-line-container">
                                <div class="status-trail"></div>
                                <div class="status-inner">
                                    <div class="status-line" id="line15" data-target="0.95"></div>
                                </div>
                                <div class="status-inner">
                                    <div class="status-line" id="line16" data-target="0.35"></div>
                                </div>
                                <div class="status-handler-wrap" id="line15-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                                <div class="status-handler-wrap is-company" id="line16-handler">
                                    <span class="status-handle-num">0</span>
                                    <span class="status-handle"></span>
                                </div>
                            </div>
                        </div>
                        <!-- 레이아웃 이슈로 임시 블록 생성 처리 -->
                        <div style="height: 30px; background-color: #fff; width: 100%"></div>
                    </div>
                </section>
            </main>
            <footer id="footer">
                <img class="w-100" src="../../assets/images/footer_a.svg" alt="" />
            </footer>
            <nav id="bottom-nav">
                <ul class="bottom-nav-list">
                    <li class="is-active">
                        <a href="./main.html">
                            <img src="../../assets/images/icon/ico_home_active.svg" alt="" />
                            <span>홈</span>
                        </a>
                    </li>
                    <li>
                        <a href="./accident-report.html">
                            <img src="../../assets/images/icon/ico_accident_report.svg" alt="" />
                            <span>사고접수</span>
                        </a>
                    </li>
                    <li>
                        <a href="../sub/service-apply.html">
                            <img src="../../assets/images/icon/ico_service_apply.svg" alt="" />
                            <span>서비스신청</span>
                        </a>
                    </li>
                    <li>
                        <a href="../sub/report-list.html">
                            <img src="../../assets/images/icon/ico_report.svg" alt="" />
                            <span>보고서</span>
                        </a>
                    </li>
                    <li>
                        <a href="../sub/my-page.html">
                            <img src="../../assets/images/icon/ico_my.svg" alt="" />
                            <span>마이</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- 위험지표 -->
        <div id="alertPopup" class="popup">
            <div class="popup-header">
                <h2 class="tit">위험지표</h2>
                <button type="button" data-popup-close>
                    <span class="sr-only">닫기</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path
                            d="M18.2803 0.292969C18.6707 -0.0976175 19.3039 -0.0975942 19.6943 0.292969C20.0846 0.683495 20.0846 1.31646 19.6943 1.70703L11.4053 9.99902L19.6992 18.2959C20.0896 18.6865 20.0897 19.3204 19.6992 19.7109C19.3088 20.1013 18.6755 20.1015 18.2852 19.7109L9.99219 11.4131L1.69922 19.7109C1.30885 20.1015 0.675602 20.1014 0.285156 19.7109C-0.105279 19.3204 -0.105256 18.6865 0.285156 18.2959L8.57812 9.99902L0.290039 1.70703C-0.100204 1.31646 -0.10026 0.683493 0.290039 0.292969C0.680474 -0.0975942 1.31369 -0.0976175 1.7041 0.292969L9.99219 8.58398L18.2803 0.292969Z"
                            fill="#333"
                        />
                    </svg>
                </button>
            </div>
            <div class="popup-body">
                <ul class="toggle-02">
                    <li class="pop-item">
                        <div class="pop-tit">
                            <span class="pop-circle green"></span>
                            <p>오픈 포트</p>
                        </div>
                        <div class="pop-txt">분산 서비스 거부 공격(DDoS)은 여러 대의 호스트를 사용하여 서버를 과부하시켜 웹사이트가 완전히 시스템 마비를 겪게 만드는 컴퓨터 공격 유형입니다. 업무 차질 위험을 줄이기 위해 전용 Anti-DDoS 솔루션을 구축하세요.</div>
                    </li>
                    <li class="pop-item">
                        <div class="pop-tit">
                            <span class="pop-circle green"></span>
                            <p>오픈 포트</p>
                        </div>
                        <div class="pop-txt">분산 서비스 거부 공격(DDoS)은 여러 대의 호스트를 사용하여 서버를 과부하시켜 웹사이트가 완전히 시스템 마비를 겪게 만드는 컴퓨터 공격 유형입니다. 업무 차질 위험을 줄이기 위해 전용 Anti-DDoS 솔루션을 구축하세요.</div>
                    </li>
                    <li class="pop-item">
                        <div class="pop-tit">
                            <span class="pop-circle red"></span>
                            <p>오픈 포트</p>
                        </div>
                        <div class="pop-txt">분산 서비스 거부 공격(DDoS)은 여러 대의 호스트를 사용하여 서버를 과부하시켜 웹사이트가 완전히 시스템 마비를 겪게 만드는 컴퓨터 공격 유형입니다. 업무 차질 위험을 줄이기 위해 전용 Anti-DDoS 솔루션을 구축하세요.</div>
                    </li>
                </ul>
            </div>
        </div>
        <script src="../../resources/js/jquery-3.7.1.min.js"></script>
        <script src="../../resources/js/swiper-bundle.min.js"></script>
        <script src="../../resources/js/progressbar.js"></script>
        <script src="../../resources/js/gsap.min.js"></script>
        <script src="../../resources/js/ScrollSmoother.js"></script>
        <script src="../../resources/js/ScrollTrigger.js"></script>
        <script src="../../resources/js/common.js"></script>
        <script>
            $(function () {
                let mainHeroSwiper = new Swiper('.hero-banner-list .swiper', {
                    pagination: {
                        el: '.hero-banner-list .swiper-pagination',
                    },
                    /*
                    autoplay: {
                        delay: 4000,
                        disableOnInteraction: false,
                    },
                    */
                });

                var circleContainer = document.getElementById('circle-container');

                var circle = new ProgressBar.Circle(circleContainer, {
                    strokeWidth: 10,
                    trailWidth: 10,
                    trailColor: '#e0e0e0',
                    duration: 1200,
                    easing: 'easeOut',
                    startAngle: -Math.PI / 2,
                    svgStyle: {
                        strokeLinecap: 'round',
                    },

                    text: {
                        value: '안전',
                        className: 'circle-container-label',

                        style: {
                            color: '#006bff',
                            position: 'absolute',
                            left: '50%',
                            top: '50%',
                            padding: 0,
                            margin: 0,
                            transform: {
                                prefix: true,
                                value: 'translate(-50%, -50%)',
                            },
                        },
                    },
                });

                var svg = circle.svg;
                var defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
                defs.innerHTML = `
                    <linearGradient id="circleGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" stop-color="#2D7DFF"/>
                        <stop offset="100%" stop-color="#4BC0E0"/>
                    </linearGradient>
                    `;
                svg.insertBefore(defs, svg.firstChild);

                circle.path.setAttribute('stroke', 'url(#circleGradient)');
                circle.path.setAttribute('stroke-linecap', 'round');

                // 초기 실행
                circle.animate(0.75);

                const lineOptions = {
                    duration: 2000,
                    easing: 'easeOut',
                    strokeWidth: 4,

                    step: (state, bar) => {
                        const $bar = $(bar._container);
                        const $handler = $('#' + $(bar._container).attr('id') + '-handler');
                        const $barTotalLength = $bar.width();
                        const value = Math.round(bar.value() * 100);
                        const moveXDistance = $barTotalLength * bar.value();

                        $handler.find('.status-handle-num').text(value);
                        $handler.css('transform', `translateX(${moveXDistance}px)`);
                    },
                };

                // 라인 애니메이션
                $('.status-line').each(function (idx, el) {
                    const linearGradient = `
                        <defs>
                            <linearGradient id="gradient-pink" gradientUnits="userSpaceOnUse" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" stop-color="#FFB5E5" />
                                <stop offset="100%" stop-color="#B760D0" />
                            </linearGradient>                        
                            <linearGradient id="gradient-blue"  gradientUnits="userSpaceOnUse" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" stop-color="#A1E9E9" />
                                <stop offset="100%" stop-color="#2C67F6" />
                            </linearGradient>
                        </defs>
                    `;

                    const line = new ProgressBar.Line(el, {
                        ...lineOptions,
                        color: idx % 2 === 0 ? 'url(#gradient-pink)' : 'url(#gradient-blue)',
                    });

                    // stroke line cap 설정
                    line.path.setAttribute('stroke-linecap', 'round');

                    // SVG 마크업 추가 > SVG 초기화 전
                    line.svg.insertAdjacentHTML('afterBegin', linearGradient);

                    const targetValue = Number(el.getAttribute('data-target'));

                    // Observe 설정
                    let options = {
                        root: null,
                        rootMargin: '0px',
                        threshold: 1,
                    };

                    let callback = (entries, observer) => {
                        entries.forEach((entry) => {
                            if (entry.isIntersecting) {
                                line.animate(targetValue);
                            }
                        });
                    };

                    let observer = new IntersectionObserver(callback, options);
                    let target = $(this)[0];
                    observer.observe(target);
                });
            });
        </script>
    </body>
</html>
